<table
  cdk-table
  cdkDropList
  id="media-table"
  [cdkDropListConnectedTo]="['user-playlists']"
  [trackBy]="trackBy"
  [dataSource]="dataSource"
>
  <!-- # Column -->
  <ng-container cdkColumnDef="#">
    <th id="id-table-header" cdk-header-cell *cdkHeaderCellDef>#</th>
    <td class="id-content" cdk-cell *cdkCellDef="let song; let i = index">
      <div>{{ i + 1 }}</div>
      <div id="play-button-container">
        <div id="play-button">
          <i class="material-symbols-rounded">play_arrow</i>
        </div>
      </div>
    </td>
  </ng-container>

  <!-- Title Column -->
  <ng-container cdkColumnDef="Title">
    <th id="title-table-header" cdk-header-cell *cdkHeaderCellDef>Title</th>
    <td class="title-content" cdk-cell *cdkCellDef="let song">
      <span>{{ song.title }}</span>
    </td>
  </ng-container>

  <!-- Album Column -->
  <ng-container cdkColumnDef="Album">
    <th id="album-table-header" cdk-header-cell *cdkHeaderCellDef>Album</th>
    <td class="album-content" cdk-cell *cdkCellDef="let song">
      <span>{{ song.album }}</span>
    </td>
  </ng-container>

  <!-- Duration Column -->
  <ng-container cdkColumnDef="Duration">
    <th id="duration-table-header" cdk-header-cell *cdkHeaderCellDef>
      <i class="material-symbols-outlined">schedule</i>
    </th>
    <td class="duration-content" cdk-cell *cdkCellDef="let song">
      <div id="like-button-container">
        <div id="like-button">
          <i class="material-symbols-outlined">favorite</i>
        </div>
      </div>
      <span>{{ song.duration | date : 'm:ss' }}</span>
      <div id="options-button-container">
        <div id="options-button">
          <i class="material-symbols-rounded">more_horiz</i>
        </div>
      </div>
    </td>
  </ng-container>

  <tr cdk-header-row *cdkHeaderRowDef="displayedColumns"></tr>
  <tr
    cdk-row
    cdkDrag
    (cdkDragStarted)="onDragStart($event)"
    #mediaItem
    [cdkDragData]="row"
    *cdkRowDef="let row; let i = index; columns: displayedColumns"
    (click)="selection.toggle(i)"
    [ngClass]="{ selected: selection.isSelected(i) }"
  >
    <div id="drag-placeholder" *cdkDragPlaceholder></div>
    <div *cdkDragPreview class="tooltip">
      {{ dragData.title + ', ' + dragData.artists }}
    </div>
  </tr>
</table>
